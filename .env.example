# =============================================================================
# Clawdbot 3-Bot Docker Compose Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Common Settings (shared across all bots)
# -----------------------------------------------------------------------------
# Docker Image Settings
# For production (uses GitHub Container Registry):
#   IMAGE_REGISTRY=ghcr.io/sunwood-ai-oss-hub/clawd-multi-agent-discord-docker
#   IMAGE_TAG=latest
#   (or use the alias: ghcr.io/sunwood-ai-oss-hub/agentos-clawd-agent3)
# For local development (builds from source):
#   IMAGE_REGISTRY=clawdbot
#   IMAGE_TAG=local
IMAGE_REGISTRY=ghcr.io/sunwood-ai-oss-hub/clawd-multi-agent-discord-docker
IMAGE_TAG=latest

# Claude AI Session Key (optional - for using Claude via web provider)
CLAUDE_AI_SESSION_KEY=

# Claude Web Session Key (optional)
CLAUDE_WEB_SESSION_KEY=

# Claude Web Cookie (optional)
CLAUDE_WEB_COOKIE=

# Gateway bind address (default: lan for Docker)
CLAWDBOT_GATEWAY_BIND=lan

# Z.AI (GLM) API Key (required for using GLM-4.7 model via Z.AI provider)
ZAI_API_KEY=your_zai_api_key_here

# OpenRouter API Key (optional - for using OpenRouter provider)
OPENROUTER_API_KEY=

# -----------------------------------------------------------------------------
# Bot 1 Settings
# -----------------------------------------------------------------------------
# Gateway token for Bot 1 (run: openssl rand -hex 32)
CLAWDBOT_BOT1_GATEWAY_TOKEN=

# Discord bot token for Bot 1
# Get from: https://discord.com/developers/applications
DISCORD_BOT1_TOKEN=

# Ports for Bot 1 (default: 18789 for gateway, 18790 for bridge)
CLAWDBOT_BOT1_GATEWAY_PORT=18789
CLAWDBOT_BOT1_BRIDGE_PORT=18790

# Config directories (can be customized if needed)
CLAWDBOT_BOT1_CONFIG_DIR=./config/bot1
CLAWDBOT_BOT1_WORKSPACE_DIR=./workspace/bot1

# -----------------------------------------------------------------------------
# Bot 2 Settings
# -----------------------------------------------------------------------------
# Gateway token for Bot 2 (run: openssl rand -hex 32)
CLAWDBOT_BOT2_GATEWAY_TOKEN=

# Discord bot token for Bot 2
# Get from: https://discord.com/developers/applications
DISCORD_BOT2_TOKEN=

# Ports for Bot 2 (default: 18791 for gateway, 18792 for bridge)
CLAWDBOT_BOT2_GATEWAY_PORT=18791
CLAWDBOT_BOT2_BRIDGE_PORT=18792

# Config directories (can be customized if needed)
CLAWDBOT_BOT2_CONFIG_DIR=./config/bot2
CLAWDBOT_BOT2_WORKSPACE_DIR=./workspace/bot2

# -----------------------------------------------------------------------------
# Bot 3 Settings
# -----------------------------------------------------------------------------
# Gateway token for Bot 3 (run: openssl rand -hex 32)
CLAWDBOT_BOT3_GATEWAY_TOKEN=

# Discord bot token for Bot 3
# Get from: https://discord.com/developers/applications
DISCORD_BOT3_TOKEN=

# Ports for Bot 3 (default: 18793 for gateway, 18794 for bridge)
CLAWDBOT_BOT3_GATEWAY_PORT=18793
CLAWDBOT_BOT3_BRIDGE_PORT=18794

# Config directories (can be customized if needed)
CLAWDBOT_BOT3_CONFIG_DIR=./config/bot3
CLAWDBOT_BOT3_WORKSPACE_DIR=./workspace/bot3

# =============================================================================
# Notes
# =============================================================================
#
# 1. Generate gateway tokens:
#    openssl rand -hex 32
#
# 2. Get Discord bot tokens:
#    https://discord.com/developers/applications
#    - Create a new application for each bot
#    - Go to "Bot" section and create a bot
#    - Copy the bot token
#    - Enable needed intents (Message Content, etc.)
#
# 3. After setting up this file, run:
#    cp .env.example .env
#    # Edit .env with your actual values
#
# 4. Setup each bot with Discord channel:
#    docker compose --profile cli run --rm clawdbot-cli channels add --channel discord --token "DISCORD_BOT1_TOKEN"
#    docker compose --profile cli run --rm -e CLAWDBOT_BOT2_GATEWAY_TOKEN=${CLAWDBOT_BOT2_GATEWAY_TOKEN} -v ./config/bot2:/home/node/.clawdbot clawdbot-cli channels add --channel discord --token "DISCORD_BOT2_TOKEN"
#    docker compose --profile cli run --rm -e CLAWDBOT_BOT3_GATEWAY_TOKEN=${CLAWDBOT_BOT3_GATEWAY_TOKEN} -v ./config/bot3:/home/node/.clawdbot clawdbot-cli channels add --channel discord --token "DISCORD_BOT3_TOKEN"
#
# 5. Start bots:
#    # Bot 1 (Main):
#    docker compose up -d
#
#    # Bot 2 & 3:
#    docker compose -f docker-compose.multi.yml up -d
#
# 6. Start individual bot:
#    docker compose up -d clawdbot-bot1
#    docker compose -f docker-compose.multi.yml up -d clawdbot-bot2
#    docker compose -f docker-compose.multi.yml up -d clawdbot-bot3
#
# 7. Access Control UI (for each bot):
#    Bot 1: http://localhost:18789/
#    Bot 2: http://localhost:18791/
#    Bot 3: http://localhost:18793/
#    Use the respective GATEWAY_TOKEN to login
